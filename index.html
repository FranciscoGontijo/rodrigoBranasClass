<html>
    <script>
        function arredondar (valor) {
			return Math.round(valor*100)/100
		}

		function calcularJuros (valor) {
			juros = arredondar(valor * 0.1)
			return juros
		}
		
		function calcularRendimentos (valor) {
			rendimentos = arredondar(valor * 0.005)
			console.log(rendimentos)
			return rendimentos
		}

        function somarLancamentos(arr) {
            let valor = 0;
            for (var i = 0; i < arr.length; i++) {
                if (arr[i].tipo === 'receita') {
                    valor += arr[i].valor;
                } 
                if (arr[i].tipo === 'despesa') {
                    valor -= arr[i].valor;
                }
            } return valor
        }


		function calcularSaldo (mes, saldoInicial, lancamentos) {
			console.log(mes);
			saldo = somarLancamentos(lancamentos) + saldoInicial;
			estaNegativo = saldo < 0;
			if (estaNegativo) {
				juros = calcularJuros(saldo);
				saldo = arredondar(saldo + juros);
			} else {
				rendimentos = calcularRendimentos(saldo);
				saldo = arredondar(saldo + rendimentos);
			}
			return saldo
		}

        saldoInicial = 0;

        lancamentosJaneiro = [
            {tipo: 'receita',valor: 3000},
            {tipo: 'despesa',valor: 1000},
            {tipo: 'despesa',valor: 200},
            {tipo: 'despesa',valor: 100},
            {tipo: 'despesa',valor: 100},
            {tipo: 'despesa',valor: 300},
            {tipo: 'despesa',valor: 300},
            {tipo: 'despesa',valor: 500},
            {tipo: 'despesa',valor: 300},
            {tipo: 'despesa',valor: 100},
        ]

		saldo1 = calcularSaldo("janeiro", saldoInicial, lancamentosJaneiro);
		console.log(saldo1);

        lancamentosFevereiro = [
            {tipo: 'receita',valor: 3000},
            {tipo: 'despesa',valor: 1200},
            {tipo: 'despesa',valor: 250},
            {tipo: 'despesa',valor: 100},
            {tipo: 'despesa',valor: 100},
            {tipo: 'despesa',valor: 500},
            {tipo: 'despesa',valor: 0},
            {tipo: 'despesa',valor: 1000},
            {tipo: 'despesa',valor: 400},
            {tipo: 'despesa',valor: 0},
        ]

		saldo2 = calcularSaldo("feveiro", saldo1, lancamentosFevereiro);
		console.log(saldo2);

        lancamentosMarco = [
            {tipo: 'receita',valor: 4000},
            {tipo: 'despesa',valor: 1200},
            {tipo: 'despesa',valor: 200},
            {tipo: 'despesa',valor: 100},
            {tipo: 'despesa',valor: 200},
            {tipo: 'despesa',valor: 500},
            {tipo: 'despesa',valor: 800},
            {tipo: 'despesa',valor: 1000},
            {tipo: 'despesa',valor: 400},
            {tipo: 'despesa',valor: 0},
        ];

		saldo3 = calcularSaldo("marco", saldo2, lancamentosMarco);
		console.log(saldo3);
		acumuladoAno = saldo3;
		console.log("ano");
		console.log(acumuladoAno);
    </script>
</html>